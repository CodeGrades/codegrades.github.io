<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Grade 2: Validation of Data &#8212; CodeGrades 0.1 documentation</title>
    <link rel="stylesheet" href="../../../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/codegrades.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../../../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/"><span><img src="../../../../_static/logo.svg"></span>
           </a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="/docs/2020">Contents</a></li>
                <li><a href="/docs/2020/grades">Grades</a></li>
                <li><a href="/docs/2020/mentors">Mentors</a></li>
                <li><a href="/docs/2020/outcomes">Outcomes</a></li>
            
            
              
                
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="grade-2-validation-of-data">
<h1><a class="reference external" href="/docs/2020/grades/2">Grade 2</a>: Validation of Data<a class="headerlink" href="#grade-2-validation-of-data" title="Permalink to this headline">¶</a></h1>
<p>Sometimes your program will encounter bad or unexpected data. If this is not
handled properly your code might break or act in unexpected ways. This is why
it is always important to validate data, especially if such data is coming
from an outside source, such as the user.</p>
<p>What do I mean?</p>
<p>Imagine your program presented the user with a multiple choice question.
Perhaps it’s some sort of booking system and you have some options,
with instructions to type in the number of the type of booking you want to
make:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">Book</span> <span class="n">a</span> <span class="n">hotel</span> <span class="n">room</span><span class="o">.</span>
<span class="mf">2.</span> <span class="n">Book</span> <span class="n">a</span> <span class="n">meal</span> <span class="n">out</span><span class="o">.</span>
<span class="mf">3.</span> <span class="n">Book</span> <span class="n">a</span> <span class="n">concert</span><span class="o">.</span>
<span class="mf">4.</span> <span class="n">Book</span> <span class="n">a</span> <span class="n">play</span><span class="o">.</span>

<span class="n">Pick</span> <span class="n">a</span> <span class="n">number</span><span class="o">.</span>
</pre></div>
</div>
<p>What happens if the user enters <code class="docutils literal notranslate"><span class="pre">&quot;one&quot;</span></code>?</p>
<p>What happens if the user enters <code class="docutils literal notranslate"><span class="pre">42</span></code>?</p>
<p>What happens if the user enters <code class="docutils literal notranslate"><span class="pre">hotel</span> <span class="pre">room</span></code>?</p>
<p>All of the answers given above are, in a sense, correct but invalid. The string
<code class="docutils literal notranslate"><span class="pre">&quot;one&quot;</span></code> is indeed a number referring to an available option, but it’s not the
digit <code class="docutils literal notranslate"><span class="pre">1</span></code>, which is what the program can work with. The number <code class="docutils literal notranslate"><span class="pre">42</span></code> is a
correct answer to the instruction, <code class="docutils literal notranslate"><span class="pre">&quot;Pick</span> <span class="pre">a</span> <span class="pre">number.&quot;</span></code>. The instruction didn’t
specify that the number needed to be from a particular set of numbers (although
the context may suggest this). Finally, <code class="docutils literal notranslate"><span class="pre">&quot;hotel</span> <span class="pre">room&quot;</span></code> is also an unambiguous
indication of the sort of booking a user might want to make. Sadly, it’s not
the number of a selection, but an English description of a type of booking.</p>
<p>The one thing you can be certain of is that <strong>users will do unexpected things</strong>
and you should be very wary of any input they may give your program. Sometimes
folks don’t understand what you’re asking for, other times they may simply be
trying to break your system. As a result you should always check user generated
input or data you may receive from an external source over which you don’t have
any control.</p>
<p>There are some simple techniques you can use to mitigate such problems:</p>
<ol class="arabic simple">
<li>Give clear instructions with example input.</li>
<li>Normalise user input. Change it in such a way that it is easier to
process and work with.</li>
<li>Constrain any input so if it doesn’t meet a very specific test it is
ignored or results in some sort of error handling.</li>
</ol>
<p>Clear instructions look something like the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Would you like to exit this program? (Y/N)
</pre></div>
</div>
<p>Notice how the question is phrades to limit the response to either an
affirmitive or negative and gives a hint that it’s expecting either a <code class="docutils literal notranslate"><span class="pre">&quot;Y&quot;</span></code>
or <code class="docutils literal notranslate"><span class="pre">&quot;N&quot;</span></code> as a response. It is very important to <strong>test such questions with
real users</strong> to make sure they have been written in a clear and unambiguous
way. As mentioned above, you’ll be surprised how differently users will see
your program from what you may think is an obvious point of view.</p>
<p>Normalising helps to discard unnecessary complexity in the response. The most
common normalisation technique is to turn all strings uppercase or lowercase
and then work with the resulting value. Since string comparison is <strong>case
sensitive</strong> it means the strings <code class="docutils literal notranslate"><span class="pre">&quot;Yes&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;yes&quot;</span></code> are classed by Python
as different, even though humans may see the same sort of affirmative response.
Normalisation ensures you’re only ever going to have to deal with either all
uppercase or all lowercase input (making it easier to confirm, <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">response</span> <span class="pre">==</span>
<span class="pre">&quot;yes&quot;:</span></code>).</p>
<p>See the section on [basic string operations](/docs/2020/grades/2/strings) to
find out how to normalise strings to upper or lower case.</p>
<p>Finally, limiting what counts as a valid value ensures your code has strict
boundaries around the sort of input it may want to handle. For instance, the
multiple choice example given above may have a constraint to ensure the
user input is an integer between 1 and 4 (inclusive). Anything which doesn’t
meet this constraint results in recovery error (“Please try again. Choose a
number between 1-4.”).</p>
<p>You will have encountered how to convert strings to integers and how to compare
values (is greater than, is less than) as part of
[grade 1](/docs/2020/grades/1).</p>
<p>Another sort of constraint is to ignore all user input
except some very specific values. For example, checking the answer to a
yes/no question may involve only actually checking the first letter of the user
input to see if it is either <code class="docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;n&quot;</span></code>. Anything else results in an
error message (although there is always a trade-off: the answer may have been
<code class="docutils literal notranslate"><span class="pre">&quot;yellow&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;Nigel&quot;</span></code> rather than <code class="docutils literal notranslate"><span class="pre">&quot;yes&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;no&quot;</span></code>).</p>
<p>See the section on <a class="reference external" href="/docs/2020/grades/2/slicing)">simple slicing</a> to learn
how to extract specific parts of strings.</p>
</div>


    </div>
      
  </div>
</div>
    <footer id="footer">
      <div class="container">
        <div class="row justify-content-between align-items-center">
          <div class="col-12 col-lg-4">
            <strong class="logo">
              <a href="/" id="footer-logo"><img src="/images/logo.svg" alt="CodeGrades"></a>
            </strong>
          </div>
          <div class="col-12 col-lg-8">
            <ul class="item-list">
              <!--li><a href="/terms.html" id="footer-terms">Terms & Conditions</a></li-->
              <li><a href="/privacy.html" id="footer-privacy">Privacy Policy</a></li>
              <li>CodeGrades &copy; 2019</li>
            </ul>
          </div>
        </div>
      </div>
    </footer>


  </body>
</html>